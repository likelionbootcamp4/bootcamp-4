<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp"
      crossorigin="anonymous"
    />
    <style>
      .card {
        height: 100%;
      }

      .card-body {
        display: flex;
        flex-direction: column;
      }

      .card-text {
        flex-grow: 1;
      }

      .card-img-top {
        height: 150px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="row" id="product-container"></div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N"
      crossorigin="anonymous"
    ></script>

    <script>
      //   setTimeout(() => {
      //     console.log("Hi!");
      //   }, 3000);

      //   setTimeout(() => {
      //     console.log("Di Tam");
      //     setTimeout(() => {
      //       console.log("An pizza");
      //       setTimeout(() => {
      //         console.log("Di ngu");
      //         setTimeout(() => {
      //           console.log("Di ngu");
      //           setTimeout(() => {
      //             console.log("Di ngu");
      //             setTimeout(() => {
      //               console.log("Di ngu");
      //               setTimeout(() => {
      //                 console.log("Di ngu");
      //                 setTimeout(() => {
      //                   console.log("Di ngu");
      //                 }, 1000);
      //               }, 1000);
      //             }, 1000);
      //           }, 1000);
      //         }, 1000);
      //       }, 1000);
      //     }, 2000);
      //   }, 3000);

      //   const promise = new Promise((resolve, reject) => {
      //     setTimeout(() => {
      //       console.log("Di Tam");
      //       reject();
      //     }, 3000);
      //   });

      //   promise
      //     .then(() => {
      //       return new Promise((resolve, reject) => {
      //         setTimeout(() => {
      //           console.log("An pizza");
      //           resolve();
      //         }, 2000);
      //       });
      //     })
      //     .then(() => {
      //       setTimeout(() => {
      //         console.log("Di ngu");
      //       }, 1000);
      //     })
      //     .catch(() => {
      //       console.log("That hua ha");
      //     });

      //   const promise = new Promise((resolve, reject) => {
      //     reject("Co van de gi do");
      //   });

      //   promise
      //     .then((result) => {
      //       console.log("Giu loi hua");
      //     })
      //     .catch((err) => {
      //       console.log(err);
      //     });
    </script>

    <script>
      const productContainer = document.querySelector("#product-container");

      // fetch("https://dummyjson.com/products")
      //   .then((response) => {
      //     return response.json();
      //   })
      //   .then((data) => {
      //     console.log(data.products);

      //     const productMarkupList = data.products.map(
      //       (product) => ` <div class="card" style="width: 18rem;">
      //   <img src="${product.thumbnail}" class="card-img-top" alt="...">
      //   <div class="card-body">
      //     <h5 class="card-title">${product.title}</h5>
      //     <p class="card-text">${product.description}</p>
      //     <a href="#" class="btn btn-primary">Add to Cart</a>
      //   </div>
      // </div>
      // `
      //     );
      //     productContainer.innerHTML = productMarkupList.reduce(
      //       (markup, productMarkup) => markup + productMarkup,
      //       ""
      //     );
      //   })
      //   .catch((error) => {
      //     console.log(error);
      //   });

      // Async/await

      async function fetchProducts() {
        const response = await fetch("https://dummyjson.com/products");
        const data = await response.json();

        const productMarkupList = data.products.map(
          (product) => `<div class="col-12 col-md-6 col-xl-3"> 
            <div class="card">
          <img src="${product.thumbnail}" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">${product.title}</h5>
            <p class="card-text">${product.description}</p>
            <a href="#" class="btn btn-primary">Add to Cart</a>
          </div>
          </div>
        </div>
        `
        );
        productContainer.innerHTML = productMarkupList.reduce(
          (markup, productMarkup) => markup + productMarkup,
          ""
        );
      }

      fetchProducts();
    </script>
  </body>
</html>
